[TOC]

# 控制器原理

## 3.3.1 组合逻辑控制器原理

### 1、组合逻辑控制器的基本思想：组合逻辑电路实现

### 2、控制器组成

（1）**微命令发生器**：产生全机所需各种微命令（控制最基本操作的命令）

（2）**指令计数器PC（总是为取下条指令做准备）**：指示指令在M中的指令 PC+"1"

顺序执行：PC+"1"

转移执行：PC先+"1"，再用转移地址修改PC

（3）**指令寄存器IR：存放现有指令**
$$
\left\{
\begin{array}{l}
操作码 \to 译码器 \to 微命令发生器 \to 决定操作性质\\
地址码字段（\xrightarrow{寻} 译码器) \xrightarrow{D}地址形成部件
\left\{
\begin{array}{l}
操作数地址\\
转移地址(ALU)
\end{array}
\right.
\end{array}
\right.
$$
（4）**状态寄存器PSW：指示程序运行方式，反应程序运行结果**

①条件码（16位）

|          |      |        |  4   |  3   |  2   |  1   |  0   |
| :------: | ---- | :----: | :--: | :--: | :--: | :--: | :--: |
| 工作方式 |      | 优先级 |  T   |  N   |  Z   |  V   |  C   |

$$
反应程序运行结果\left\{
\begin{array}{l}
C=1~~~进位\\
V=1~~~溢出\\
Z=1~~~为0\\
N=1~~~为负
\end{array}
\right.
$$

>PSW在CPU中反应程序运行状态，控制/状态 字在接口中，反应CPU命令、设备状态。

（5）**时序线路：**控制操作时间和操作时刻

### 3、控制器工作过程

（1）取指令

$PC \xrightarrow{地址}M \xrightarrow{指令} IR、译码（\theta 、寻址方式）$

（2）取数

按寻址方式或从寄存器R中取数或从存储器M中取

（3）执行

按操作码对数据进行运算处理

### 4、组合逻辑控制方式的优缺点及应用

（1）优缺点

优点：产生微命令的速度较快

缺点：设计不规整，设计效率低，不易修改、扩展指令系统功能

（2）应用场合

用于高速计算机，或小规模计算机