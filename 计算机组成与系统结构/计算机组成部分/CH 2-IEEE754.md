[TOC]

# CH 2-1	计算机中的信息表示

## 2.1.3	定点数与浮点数

计算机中常用的数据表示格式有两种，一是**定点格式**，二是**浮点格式**

> **定点格式**表示的数值范围有限，但要求的处理硬件比较简单
>
> **浮点格式**表示的数值范围很大，但要求的处理硬件比较复杂

### 1、定点表示法

由程序设计者约定，该程序中**所有数的小数点固定在同一位置不变**。

① 带符号的定点小数：约定所有数的小数点的位置固定在符号位之后。

![image-20220918113731279](https://picgo-1310230783.cos.ap-chengdu.myqcloud.com/img/image-20220918113731279.png)

设字长为n+1位，表示范围为：$1-2^{-n}～-(1-2^{-n})$

② 带符号的定点整数：约定所有数的小数点的位置固定在最低数值位之后。

![image-20220918115012303](https://picgo-1310230783.cos.ap-chengdu.myqcloud.com/img/image-20220918115012303.png)

设字长=n+1位，表示范围为： $2^n -1～- (2^n -1)$

### 2、浮点表示法

浮点表示法中，小数点的位置可按需要浮动。

表示如下：

![image-20220918115519763](https://picgo-1310230783.cos.ap-chengdu.myqcloud.com/img/image-20220918115519763.png)

**浮点数真值：$N=\pm R^E × M$**

浮点数机器格式：![image-20220918121123435](https://picgo-1310230783.cos.ap-chengdu.myqcloud.com/img/image-20220918121123435.png)

**R**：阶码底，隐含约定，一般为2。

**E**：阶码，为定点整数，补码或移码表示。**其位数决定数值范围；阶符表示数的大小**。

**M**：尾数，为定点小数，原码或补码表示。**其位数决定数的精度；数符表示数的正负**。

### 3、浮点数的规格化

规格化表示原则：尾数最高有效位为1

对于原码：规格化的特征是尾数最高有效位为“1”

对于补码：对于正数, 规格化的特征是最高有效位为“1”;

​				  对于负数, 规格化的特征是最高有效位为“0”.

### 4、IEEE754 标准

#### 32位浮点数（短实数）的标准格式为：

![image-20220918125910040](https://picgo-1310230783.cos.ap-chengdu.myqcloud.com/img/image-20220918125910040.png)

Ｓ：浮点数的符号位，0表示正数，1表示负数 。

Ｅ：含阶符的阶码，8 位阶码采用移码方式来表示正负指数。

Ｍ：尾数，23位小数表示，小数点放在尾数域最前面。

#### 64位浮点数（长实数）的标准格式为：

![image-20220918130117075](https://picgo-1310230783.cos.ap-chengdu.myqcloud.com/img/image-20220918130117075.png)

Ｓ：浮点数的符号位，0表示正数，1表示负数。

Ｅ：阶码，11 位，阶符采用隐含方式，即采用移码方式来表示正负指数，但只偏移2n-1。 

Ｍ：尾数，52位，用纯小数表示。

#### 规格化表示规则

**1. 尾数最高有效位为1，隐藏，并且隐藏在小数点的左边（即：1≤M＜2）**

**2. 32位单精度浮点数规格化表示：$	X＝ (-1)^s×(1.Ｍ)× 2^{E-127}$**			$e＝Ｅ－127（Ｅ＝e＋127）$

**3. 64位双精度浮点数规格化表示：$	X＝ (-1)^s×(1.Ｍ)× 2^{E-1023}$		$e＝Ｅ－1023（Ｅ＝e＋1023）$**

> **指数真值e 用偏移码形式表示为阶码Ｅ**

#### 例题

**例1：浮点机器数 (41360000)~16~，求真值**

① 十六进制数展开成二进制数

![image-20220918131530064](https://picgo-1310230783.cos.ap-chengdu.myqcloud.com/img/image-20220918131530064.png)

② $指数e＝阶码－127 ＝1000~~0010－0111~~1111＝0000~~0011=(3)_{10}$

③ $包括隐藏位1的尾数~~1.M ＝1.011011$

④ $X＝(-1)^s×1.M×2^e ＝＋(1.011011)×2^3＝＋1011.011＝(11.375)_{10}$

**例2：将十进制数20.59375转换成IEEE754 的32位标准浮点数的二进制格式来存储，并写出其16进制数。 **

① 首先分别将整数和分数部分转换成二进制数：$20.59375＝10100.10011$

② 然后移动小数点，使其在第1、2位之间：$10100.10011＝1.010010011×2^4$

③ 小数点被左移了4位，于是得到：$e＝4$

④ 尾符 $S＝0$，阶码 $E＝4＋127＝131=10000011$，尾数 $M＝010010011$

⑤ 最后得到32位浮点数的二进制存储格式为：

$0100~~0001~~1010~~0100~~1100~~0000~~0000~~0000＝(41A4C000)_{16}$

#### 二进制中的数值保留

![QQ截图20220919144906](https://picgo-1310230783.cos.ap-chengdu.myqcloud.com/img/QQ%E6%88%AA%E5%9B%BE20220919144906.png)



#### 课后作业

1.**将（26.35)~10~转换成IEEE754短浮点数格式。**

![1](https://picgo-1310230783.cos.ap-chengdu.myqcloud.com/img/1.jpg)

2.**若IEEE754短浮点数的十六进制表示形式为（419C0000）~16~ ,求其真值。**

![2](https://picgo-1310230783.cos.ap-chengdu.myqcloud.com/img/2.jpg)

